<ion-app>
  <ion-content>
  <h1 class="encabezado centrado">Resultados</h1>
  <ion-grid>
    <ion-row class="ion-justify-content-center">
      <ion-col>
        <h1 class="centrado txt-strong txt-subrayado">En base a sus respuestas debe considerar las siguientes recomendaciones</h1>
      </ion-col>
    </ion-row>
    <ion-row class="ion-justify-content-center">
      <ion-col size="12" size-md="12">
        <div *ngFor="let area of this.ticketService.ticketInformation.explicacion.idiomaSeleccionado.areas">
          <h2>- {{area.nombre}}</h2>
          <div *ngFor="let cat of area.categorias">
            <ng-container *ngIf="cat.isChecked">
              <ul>
                <li class="nested-list"> <b>{{cat.nombre}}</b>| {{cat.descripcion}}
                  <ol>
                    <div *ngFor="let pregunta of cat.preguntas">
                      <ng-container
                        *ngIf="pregunta.perfil.perfil == this.ticketService.ticketInformation.recoleccionDatos.perfilUsuario && 
                          pregunta.puntuacionRecomendacion >= pregunta.respuestaSeleccionada.puntuacion">
                        <li [innerHTML]="pregunta.recomendacion"></li>
                      </ng-container>
                    </div>
                  </ol>
                </li>
              </ul>
            </ng-container>
          </div>
        </div>
      </ion-col>
    </ion-row>

    <ion-row class="ion-justify-content-center">
      <ion-col size="12" size-md="10">
        
         <div>    
          <p-chart type="bar" [data]="basicData" [options]="basicOptions"></p-chart>
        </div> 
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>


  <ion-footer>
    <ion-toolbar>
      <ion-grid>
        <ion-row>
          <ion-col col-12>
            <div class="centrado">
              <ion-button color="primary" (click)="downloadPDF()">
                <ion-icon name="download-outline"></ion-icon> Descargar resultados
              </ion-button>
            </div>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-toolbar>
  </ion-footer>
</ion-app>
